<ion-header>
	<!--<primary-menu type="titleMenu" [propertyName]="ActiveProperty?.Name" (_openMenuClickHandler)="openMenu()" [title]="LineItem?.Name"></primary-menu>-->
	<div class="top-ios-space" *ngIf="platform.is('ios')"></div>

	<ion-row class="top-row">
		<ion-col size="3">
			<img src="https://firebasestorage.googleapis.com/v0/b/homeazzon.appspot.com/o/common%2Ffont-awesome%2Fregular%2Fchevron-left.svg?alt=media&token=8d023f28-4d41-46c7-806f-7b024d91baee"
				 class="left-icon" (click)="close()" />
		</ion-col>
		<ion-col size="6">
			<h1 class="page-title" *ngIf="!isHideSegments">{{actionText}} - {{ActiveItem?.Name}}</h1>

		</ion-col>
		<ion-col size="3">
			<div style="padding-right: .5em;padding-top: 1.2em">
				<img src="https://firebasestorage.googleapis.com/v0/b/homeazzon.appspot.com/o/common%2Ffont-awesome%2Fregular%2Fhome.svg?alt=media&token=f8feaa4d-be27-45b2-ab8e-2f176d6a5259"
					 class="header-img-property" (click)="openMenu()">
				<h6 class="property-name-active" (click)="openMenu()">{{ActiveProperty?.Name}}</h6>
			</div>
		</ion-col>
	</ion-row>
</ion-header>


<ion-content>
	<ng-container>
		<div class="spacer-halfRem"></div>
		<div *ngIf="action==_constants.Actions.move">

			<ion-row>
				<ion-col size="12">
					<h4 class="input-label">Select Property</h4>
					<ion-item lines="none">
						<ion-select [(ngModel)]="selectedPropertyID" (ionChange)="onPropertySelect()" style="width: 100%;">
							<ion-select-option [value]="property.Id" *ngFor="let property of properties">
								{{ (property.Name) }}
							</ion-select-option>
						</ion-select>
					</ion-item>
				</ion-col>


				<ion-col size="12" *ngIf="isShowArea">
					<h4 class="input-label">Select Area</h4>
					<ion-item lines="none">
						<ion-select [(ngModel)]="selectedProfileItemID" (ionChange)="onAreaSelect()" style="width: 100%;">
							<ion-select-option [value]="profile.Id" *ngFor="let profile of profileItems">
								{{profile.Name}}
							</ion-select-option>
						</ion-select>
					</ion-item>
				</ion-col>

				<ion-col size="12" *ngIf="isShowLineItem">
					<h4 class="input-label">Select Line Item</h4>
					<ion-item lines="none">
						<ion-select [(ngModel)]="selectedLineItemID" (ionChange)="onLineItemSelect()" style="width: 100%;">
							<ion-select-option [value]="lineItem.Id" *ngFor="let lineItem of lineItems">
								{{lineItem.Name}}
							</ion-select-option>
						</ion-select>
					</ion-item>
				</ion-col>

			</ion-row>
			<ion-row>
				<ion-col size="12" *ngIf="isShowSave">
					<ion-item lines="none">
						<ion-button color="secondary" block (click)="save()"> {{buttonText}}</ion-button>
					</ion-item>
				</ion-col>
			</ion-row>
		</div>

		<div *ngIf="action==_constants.Actions.clone">
			<ion-card *ngIf="isShowProperty">
				<ion-row no-padding>
					
					<ion-col size="3">
						
						<ion-toggle  name="SelectAll" color="tertiary" (ionChange)="onSelectAllToggle($event)"></ion-toggle>
					</ion-col>
				</ion-row>
				<ion-row *ngFor="let property of properties">
					<ion-col size="2">
						<ion-checkbox id="{{'s_' + property.Id}}" [(ngModel)]="property.selected" (ionChange)="onPropertySelect()"></ion-checkbox>
					</ion-col>
					<ion-col size="10">
						<p>{{property.Name}}</p>
					</ion-col>
				</ion-row>
				<ion-row no-padding>
					<ion-col size="9">
					</ion-col>
					<ion-col size="3">
						<ion-button color="secondary" (click)="propertyPanelNextClick()">
							Next
						</ion-button>
					</ion-col>
				</ion-row>
			</ion-card>


			<ion-card *ngIf="isShowArea">
				<ion-row *ngFor="let property of selectedProperties;let propertyIndex = index">
					<ion-col size="12">
						<h4>{{property.Name}}
						<ion-toggle  name="SelectAll" color="tertiary" [(ngModel)]="property.selected" (ionChange)="onPropertySelectAllToggle(propertyIndex)"></ion-toggle>
						</h4>
						<ion-row *ngFor="let profileItem of property.ProfileItems">
							<ion-col size="2">
								<ion-checkbox id="{{'s_'+ property.Id+'_' + profileItem.Id}}" [(ngModel)]="profileItem.selected"></ion-checkbox>
							</ion-col>
							<ion-col size="10">
								<p>{{profileItem.Name}}</p>
							</ion-col>
						</ion-row>
					</ion-col>
				</ion-row>
				<ion-row no-padding>
					<ion-col size="9">
					</ion-col>
					<ion-col size="3">
						<ion-button color="secondary" (click)="profileItemPanelNextClick()">
							Next
						</ion-button>
					</ion-col>
				</ion-row>
			</ion-card>


			<ion-card *ngIf="isShowLineItem">
				<ion-row *ngFor="let property of selectedProperties;let propertyIndex = index">
					<ion-col size="12">
						<ion-row>
							<ion-col size="12">
								<h4>{{property.Name}}</h4>
							</ion-col>
						</ion-row>
						<ion-row *ngFor="let profileItem of property.ProfileItems;let profileItemIndex = index">
							<ion-col size="1" >
							</ion-col>
							<ion-col size="11" >
								<ion-row>
									<ion-col size="12">
										<p>{{profileItem.Name}}
										<ion-toggle  name="SelectAll" color="tertiary" [(ngModel)]="profileItem.selected" (ionChange)="onProfileItemSelectAllToggle(propertyIndex,profileItemIndex)"></ion-toggle>
										</p>
									</ion-col>
								</ion-row>
								<ion-row *ngFor="let lineItem of profileItem.LineItems">
									<ion-col size="1">
										&nbsp;
									</ion-col>
									<ion-col size="1">
										<ion-checkbox id="{{'s_'+ property.Id + '_' + profileItem.Id + '_' + lineItem.Id}}" [(ngModel)]="lineItem.selected"></ion-checkbox>
									</ion-col>
									<ion-col size="10">
										<p>{{lineItem.Name}}</p>
									</ion-col>
								</ion-row>
							</ion-col>
						</ion-row>
					</ion-col>
				</ion-row>
				<ion-row no-padding>
					<ion-col size="9">
					</ion-col>
					<ion-col size="3">
						<ion-button color="secondary" block (click)="save()"> {{buttonText}}</ion-button>
					</ion-col>
				</ion-row>
			</ion-card>
		</div>
	</ng-container>
</ion-content>
